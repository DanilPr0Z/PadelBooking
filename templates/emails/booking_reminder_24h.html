{% extends 'emails/base_email.html' %}

{% block email_title %}Напоминание о бронировании (завтра){% endblock %}

{% block email_header %}Напоминание о бронировании{% endblock %}

{% block email_content %}
<h2>Здравствуйте, {{ user.first_name }}!</h2>
<p>Напоминаем, что завтра у вас забронирован корт!</p>

<div class="booking-details">
    <h3>Детали бронирования:</h3>
    <div class="detail-row">
        <span><strong>Корт:</strong></span>
        <span>{{ booking.court.name }}</span>
    </div>
    <div class="detail-row">
        <span><strong>Дата:</strong></span>
        <span>{{ booking.date|date:"d.m.Y" }} (завтра)</span>
    </div>
    <div class="detail-row">
        <span><strong>Время:</strong></span>
        <span>{{ booking.start_time|time:"H:i" }} - {{ booking.end_time|time:"H:i" }}</span>
    </div>
    <div class="detail-row">
        <span><strong>Стоимость:</strong></span>
        <span>{{ booking.total_price|floatformat:0 }} руб.</span>
    </div>
    <div class="detail-row">
        <span><strong>Статус:</strong></span>
        <span style="color: {% if booking.status == 'confirmed' %}#38b000{% else %}#ffc107{% endif %};">
            {% if booking.status == 'confirmed' %}Подтверждено{% elif booking.status == 'pending' %}Ожидает подтверждения{% else %}{{ booking.get_status_display }}{% endif %}
        </span>
    </div>
</div>

{% if booking.status == 'pending' %}
<p style="color: #dc3545;"><strong>Внимание!</strong> Не забудьте подтвердить бронирование за 24 часа до начала.</p>
<a href="{{ site_url }}{% url 'booking_detail' booking.id %}" class="button">Подтвердить бронирование</a>
{% else %}
<p>Ждем вас! Не забудьте взять с собой ракетку и хорошее настроение.</p>
{% endif %}

<p>Если вам нужно отменить бронирование, сделайте это заранее через личный кабинет.</p>

<p>С уважением,<br>Команда Paddle Booking</p>
{% endblock %}
