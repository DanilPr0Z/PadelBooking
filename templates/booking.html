{% extends 'base.html' %}
{% load static %}

{% block title %}–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ - Paddle Booking{% endblock %}

{% block content %}
<div class="page-header">
    <h1>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä—Ç–æ–≤</h1>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É, –∫–æ—Ä—Ç –∏ –≤—Ä–µ–º—è –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>
</div>

<!-- –ì–û–†–ò–ó–û–ù–¢–ê–õ–¨–ù–´–ô –ö–ê–õ–ï–ù–î–ê–†–¨ -->
<div class="calendar-container">
    <div class="month-header" style="
        text-align: center;
        margin-bottom: 15px;
        font-weight: 700;
        color: #333;
        font-size: 24px;
        padding: 10px 0;
        background: linear-gradient(135deg, rgba(158, 240, 26, 0.1) 0%, rgba(191, 241, 103, 0.1) 100%);
        border-radius: 10px;
        border: 2px solid rgba(158, 240, 26, 0.2);
        width: 100%;
    ">
        –î–µ–∫–∞–±—Ä—å
    </div>

    <div class="week-controls" style="
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        margin-bottom: 10px;
        width: 100%;
    ">
        <button id="prev-week" class="week-arrow" type="button" title="–ü—Ä–µ–¥—ã–¥—É—â–∞—è –Ω–µ–¥–µ–ª—è">
            <i class="fas fa-chevron-left"></i>
        </button>

        <div class="week-nav" id="week-nav" style="
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 5px;
            flex: 1;
            max-width: 800px;
            padding: 0;
            height: 90px;
            margin: 0 10px;
        ">
            <!-- JavaScript –∑–∞–ø–æ–ª–Ω–∏—Ç –¥–Ω–∏ –∑–¥–µ—Å—å -->
        </div>

        <button id="next-week" class="week-arrow" type="button" title="–°–ª–µ–¥—É—é—â–∞—è –Ω–µ–¥–µ–ª—è">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>
</div>

<!-- –ì–û–†–ò–ó–û–ù–¢–ê–õ–¨–ù–´–ô –í–´–ë–û–† –ö–û–†–¢–û–í -->
<div class="courts-horizontal-container">
    <div class="section-card">
        <h3><i class="fas fa-court-sport"></i> –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ—Ä—Ç</h3>

        <div id="courts-horizontal-list" class="courts-horizontal-list">
            {% for court in courts %}
            <div class="court-horizontal-item {% if forloop.first %}active{% endif %}"
                 data-court-id="{{ court.id }}"
                 data-court-price="{{ court.price_per_hour }}"
                 onclick="selectCourt(this, {{ court.id }}, {{ court.price_per_hour }})"
                 style="cursor: pointer;">

                <div class="court-horizontal-image">
                    <i class="fas fa-tennis-ball"></i>
                </div>
                <div class="court-horizontal-info">
                    <h4>{{ court.name }}</h4>
                    <span class="court-price">{{ court.price_per_hour }} ‚ÇΩ/—á–∞—Å</span>
                    <p class="court-description">{{ court.description|truncatechars:60 }}</p>
                    <div class="court-status">
                        {% if court.is_available %}
                        <span class="status-available"><i class="fas fa-check-circle"></i> –î–æ—Å—Ç—É–ø–µ–Ω</span>
                        {% else %}
                        <span class="status-unavailable"><i class="fas fa-times-circle"></i> –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω</span>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="no-courts">
                <i class="fas fa-tennis-ball"></i>
                <p>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ—Ä—Ç–æ–≤ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- –í–†–ï–ú–ï–ù–ù–´–ï –°–õ–û–¢–´ –° –†–ê–ó–î–ï–õ–ê–ú–ò -->
<div class="time-slots-container">
    <div class="section-card">
        <h3><i class="fas fa-clock"></i> –î–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è</h3>

        <div id="time-slots-sections" class="time-slots-sections">
            <!-- –£–¢–†–û -->
            <div class="time-section morning-section">
                <div class="section-header" data-section="morning">
                    <h4><i class="fas fa-sun"></i> –£—Ç—Ä–æ (8:00 - 12:00)</h4>
                    <span class="toggle-arrow"><i class="fas fa-chevron-down"></i></span>
                </div>
                <div class="section-content" id="morning-slots" style="display: block;">
                    <div class="select-court-date">
                        <i class="fas fa-calendar-check"></i>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –∫–æ—Ä—Ç, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è</p>
                    </div>
                </div>
            </div>

            <!-- –î–ï–ù–¨ -->
            <div class="time-section day-section">
                <div class="section-header" data-section="day">
                    <h4><i class="fas fa-cloud-sun"></i> –î–µ–Ω—å (12:00 - 17:00)</h4>
                    <span class="toggle-arrow"><i class="fas fa-chevron-down"></i></span>
                </div>
                <div class="section-content" id="day-slots" style="display: block;">
                    <div class="select-court-date">
                        <i class="fas fa-calendar-check"></i>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –∫–æ—Ä—Ç, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è</p>
                    </div>
                </div>
            </div>

            <!-- –í–ï–ß–ï–† -->
            <div class="time-section evening-section">
                <div class="section-header" data-section="evening">
                    <h4><i class="fas fa-moon"></i> –í–µ—á–µ—Ä (17:00 - 22:00)</h4>
                    <span class="toggle-arrow"><i class="fas fa-chevron-down"></i></span>
                </div>
                <div class="section-content" id="evening-slots" style="display: block;">
                    <div class="select-court-date">
                        <i class="fas fa-calendar-check"></i>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –∫–æ—Ä—Ç, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê –í–´–ë–†–ê–ù–ù–û–ì–û –í–†–ï–ú–ï–ù–ò -->
<div id="selected-time-info" class="selected-time-info" style="display: none;">
    <div class="section-card">
        <h3><i class="fas fa-check-circle"></i> –í—ã–±—Ä–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è</h3>
        <div class="selected-details">
            <div class="selected-item">
                <span class="label">–ö–æ—Ä—Ç:</span>
                <span id="selected-court" class="value"></span>
            </div>
            <div class="selected-item">
                <span class="label">–î–∞—Ç–∞:</span>
                <span id="selected-date" class="value"></span>
            </div>
            <div class="selected-item">
                <span class="label">–í—Ä–µ–º—è:</span>
                <span id="selected-time" class="value"></span>
            </div>
            <div class="selected-item">
                <span class="label">–°—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                <span id="selected-price" class="value"></span>
            </div>
            <button id="confirm-booking-btn" class="btn-primary">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
<div id="bookingConfirmModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
        <div class="booking-details">
            <div class="booking-detail-item">
                <span class="detail-label">–ö–æ—Ä—Ç:</span>
                <span id="modal-court-name" class="detail-value"></span>
            </div>
            <div class="booking-detail-item">
                <span class="detail-label">–î–∞—Ç–∞:</span>
                <span id="modal-date" class="detail-value"></span>
            </div>
            <div class="booking-detail-item">
                <span class="detail-label">–í—Ä–µ–º—è:</span>
                <span id="modal-time" class="detail-value"></span>
            </div>
            <div class="booking-detail-item">
                <span class="detail-label">–°—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                <span id="modal-price" class="detail-value"></span>
            </div>
        </div>

        <form id="booking-form" method="post" action="{% url 'create_booking' %}">
            {% csrf_token %}
            <input type="hidden" name="court_id" id="form-court-id">
            <input type="hidden" name="date" id="form-date">
            <input type="hidden" name="start_time" id="form-start-time">
            <input type="hidden" name="end_time" id="form-end-time">
            <input type="hidden" name="duration" id="form-duration" value="1">

            <div class="form-actions">
                <button type="button" class="btn-secondary cancel-booking">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" class="btn-primary confirm-booking">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
            </div>
        </form>
    </div>
</div>

<style>
    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è */
    .calendar-container {
        margin-bottom: 30px;
    }

    /* –ì–û–†–ò–ó–û–ù–¢–ê–õ–¨–ù–´–ô –í–´–ë–û–† –ö–û–†–¢–û–í */
    .courts-horizontal-container {
        margin-bottom: 30px;
    }

    .courts-horizontal-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 20px;
    }

    .court-horizontal-item {
        background: white;
        border-radius: 15px;
        padding: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 3px solid #eee;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }

    .court-horizontal-item:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 30px rgba(158, 240, 26, 0.15);
        border-color: #bff167;
    }

    .court-horizontal-item.active {
        border-color: #9ef01a;
        background: linear-gradient(135deg, rgba(158, 240, 26, 0.05) 0%, rgba(191, 241, 103, 0.05) 100%);
        box-shadow: 0 15px 35px rgba(158, 240, 26, 0.2);
    }

    .court-horizontal-image {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: linear-gradient(135deg, #9ef01a 0%, #bff167 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 20px;
    }

    .court-horizontal-image i {
        font-size: 40px;
        color: white;
    }

    .court-horizontal-info h4 {
        margin: 0 0 10px 0;
        color: #333;
        font-size: 20px;
        font-weight: 700;
    }

    .court-price {
        display: inline-block;
        background: linear-gradient(135deg, #9ef01a 0%, #bff167 100%);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: 700;
        font-size: 16px;
        margin-bottom: 15px;
        box-shadow: 0 3px 8px rgba(158, 240, 26, 0.3);
    }

    .court-description {
        color: #666;
        font-size: 14px;
        line-height: 1.5;
        margin-bottom: 15px;
        min-height: 40px;
    }

    .court-status {
        font-size: 14px;
        font-weight: 600;
    }

    .status-available {
        color: #38b000;
    }

    .status-unavailable {
        color: #dc3545;
    }

    /* –í–†–ï–ú–ï–ù–ù–´–ï –°–õ–û–¢–´ –° –†–ê–ó–î–ï–õ–ê–ú–ò */
    .time-slots-container {
        margin-bottom: 30px;
    }

    .time-slots-sections {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .time-section {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        border: 2px solid #f0f0f0;
        transition: all 0.3s ease;
    }

    .time-section.morning-section .section-header {
        background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
    }

    .time-section.day-section .section-header {
        background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
    }

    .time-section.evening-section .section-header {
        background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
    }

    .section-header {
        padding: 20px 25px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: white;
        user-select: none;
    }

    .section-header h4 {
        margin: 0;
        font-size: 18px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .section-header h4 i {
        font-size: 20px;
    }

    .toggle-arrow {
        transition: transform 0.3s ease;
    }

    .section-content {
        padding: 25px;
        animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* –°–ï–¢–ö–ê –í–†–ï–ú–ï–ù–ù–´–• –°–õ–û–¢–û–í */
    .time-slots-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 15px;
    }

    .time-slot-card {
        background: white;
        border-radius: 12px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 3px solid #eee;
        text-align: center;
        position: relative;
    }

    .time-slot-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .time-slot-card.available {
        border-color: #bff167;
    }

    .time-slot-card.available:hover {
        background: linear-gradient(135deg, #9ef01a 0%, #bff167 100%);
        border-color: #9ef01a;
    }

    .time-slot-card.available:hover .slot-time,
    .time-slot-card.available:hover .slot-price {
        color: white;
    }

    .time-slot-card.unavailable {
        opacity: 0.5;
        cursor: not-allowed;
        background: #f8f8f8;
    }

    .slot-time {
        display: block;
        font-weight: 700;
        color: #333;
        font-size: 18px;
        margin-bottom: 8px;
    }

    .slot-price {
        display: block;
        font-size: 16px;
        color: #38b000;
        font-weight: 600;
        margin-bottom: 5px;
    }

    .slot-status {
        font-size: 12px;
        color: #666;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .time-slot-card.available .slot-status {
        color: #38b000;
    }

    .time-slot-card.unavailable .slot-status {
        color: #dc3545;
    }

    /* –°–¢–ê–¢–ò–°–¢–ò–ö–ê –í–´–ë–†–ê–ù–ù–û–ì–û –í–†–ï–ú–ï–ù–ò */
    .selected-time-info {
        margin-top: 30px;
        animation: slideUp 0.5s ease;
    }

    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .selected-details {
        background: linear-gradient(135deg, #f8fff8 0%, #f0fff0 100%);
        border-radius: 12px;
        padding: 25px;
        border: 2px solid #bff167;
    }

    .selected-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .selected-item:last-child {
        border-bottom: none;
        padding-top: 20px;
        margin-top: 10px;
    }

    .selected-item .label {
        font-weight: 600;
        color: #555;
        font-size: 16px;
    }

    .selected-item .value {
        font-weight: 700;
        color: #333;
        font-size: 18px;
    }

    #confirm-booking-btn {
        width: 100%;
        margin-top: 10px;
        padding: 15px;
        font-size: 18px;
        font-weight: 700;
    }

    /* –°–û–û–ë–©–ï–ù–ò–Ø */
    .select-court-date {
        text-align: center;
        padding: 40px 20px;
        color: #888;
        grid-column: 1 / -1;
    }

    .select-court-date i {
        font-size: 48px;
        margin-bottom: 15px;
        color: #ccc;
    }

    .select-court-date p {
        margin: 0;
        font-size: 16px;
    }

    .loading {
        text-align: center;
        padding: 30px;
        color: #666;
        grid-column: 1 / -1;
    }

    .loading i {
        margin-right: 10px;
    }

    .error-message {
        text-align: center;
        padding: 30px;
        color: #dc3545;
        grid-column: 1 / -1;
    }

    .error-message i {
        margin-right: 10px;
    }

    /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
    @media (max-width: 1200px) {
        .courts-horizontal-list {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 768px) {
        .courts-horizontal-list {
            grid-template-columns: 1fr;
        }

        .time-slots-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .section-header {
            padding: 15px 20px;
        }

        .section-header h4 {
            font-size: 16px;
        }

        .time-slot-card {
            padding: 15px;
        }

        .slot-time {
            font-size: 16px;
        }
    }

    @media (max-width: 480px) {
        .time-slots-grid {
            grid-template-columns: 1fr;
        }

        .court-horizontal-item {
            padding: 20px;
        }

        .selected-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 5px;
        }

        .selected-item .value {
            font-size: 16px;
        }
    }
</style>

<script>
// –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
function selectCourt(element, courtId, courtPrice) {
    console.log('–ö–æ—Ä—Ç –∫–ª–∏–∫–Ω—É—Ç!', courtId, courtPrice);

    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–æ—Ä—Ç–æ–≤
    document.querySelectorAll('.court-horizontal-item').forEach(item => {
        item.classList.remove('active');
        item.style.borderColor = '#eee';
        item.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.08)';
    });

    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É
    element.classList.add('active');
    element.style.borderColor = '#9ef01a';
    element.style.boxShadow = '0 15px 35px rgba(158, 240, 26, 0.2)';

    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ—Ä—Ç –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    if (window.selectedCourtData) {
        window.selectedCourtData = {
            id: courtId,
            price: courtPrice,
            name: element.querySelector('h4').textContent
        };
    }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ª–æ—Ç—ã –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ—Ä—Ç–∞
    if (window.selectedDate && window.loadTimeSlots) {
        const dateStr = window.formatDate ? window.formatDate(window.selectedDate) : new Date().toISOString().split('T')[0];
        window.loadTimeSlots(courtId, dateStr);
    }
}
</script>

<!-- –ü–†–û–°–¢–û–ô –ò –ù–ê–î–ï–ñ–ù–´–ô –°–ö–†–ò–ü–¢ –î–õ–Ø –°–ï–ö–¶–ò–ô -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('üéØ Section handler loaded');

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–æ–≤ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö
    function setupSectionHandlers() {
        const sections = ['morning', 'day', 'evening'];

        sections.forEach(section => {
            const header = document.querySelector(`[data-section="${section}"]`);
            const content = document.getElementById(`${section}-slots`);

            if (!header || !content) {
                console.log(`‚ùå Section ${section} not found`);
                return;
            }

            // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
            const newHeader = header.cloneNode(true);
            header.parentNode.replaceChild(newHeader, header);

            const newContent = content.cloneNode(true);
            content.parentNode.replaceChild(newContent, content);

            // –ü–æ–ª—É—á–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            const currentHeader = document.querySelector(`[data-section="${section}"]`);
            const currentContent = document.getElementById(`${section}-slots`);

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
            currentHeader.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                console.log(`üéØ Clicked ${section} section`);

                if (currentContent.style.display === 'none') {
                    currentContent.style.display = 'block';
                    const arrow = this.querySelector('.toggle-arrow i');
                    if (arrow) arrow.className = 'fas fa-chevron-down';
                    console.log(`‚úÖ ${section} opened`);
                } else {
                    currentContent.style.display = 'none';
                    const arrow = this.querySelector('.toggle-arrow i');
                    if (arrow) arrow.className = 'fas fa-chevron-right';
                    console.log(`‚úÖ ${section} closed`);
                }
            });

            currentHeader.style.cursor = 'pointer';
        });

        console.log('‚úÖ All sections initialized');
    }

    // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    setTimeout(setupSectionHandlers, 100);
});
</script>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/booking.js' %}"></script>
{% endblock %}